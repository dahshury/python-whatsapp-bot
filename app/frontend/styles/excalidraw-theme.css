/* Scope to our app wrapper to increase specificity */
.theme-default .excali-theme-scope .excalidraw,
.theme-claude .excali-theme-scope .excalidraw,
.theme-neo-brutalism .excali-theme-scope .excalidraw,
.theme-perpetuity .excali-theme-scope .excalidraw,
.theme-retro-arcade .excali-theme-scope .excalidraw,
.theme-soft-pop .excali-theme-scope .excalidraw,
.theme-ghibli-studio .excali-theme-scope .excalidraw,
.theme-valorant .excali-theme-scope .excalidraw,
.theme-t3chat .excali-theme-scope .excalidraw,
.theme-perplexity .excali-theme-scope .excalidraw,
.theme-art-deco .excali-theme-scope .excalidraw,
.theme-neomorphism .excali-theme-scope .excalidraw {
  /* Map our theme tokens to Excalidraw primary scale */
  --color-primary: hsl(var(--primary)) !important;
  --color-primary-darker: hsl(var(--accent-foreground)) !important;
  --color-primary-darkest: hsl(var(--foreground)) !important;
  --color-primary-light: hsl(var(--accent)) !important;
  --color-primary-contrast-offset: hsl(var(--primary)) !important;

  /* Core text & backgrounds */
  --text-primary-color: hsl(var(--foreground)) !important;
  --default-bg-color: hsl(var(--background)) !important;
  --input-bg-color: hsl(var(--card)) !important;
  --input-border-color: hsl(var(--border)) !important;
  --input-hover-bg-color: hsl(var(--accent) / 0.6) !important;
  --island-bg-color: hsl(var(--card)) !important;
  --popup-bg-color: hsl(var(--card)) !important;
  --popup-secondary-bg-color: hsl(var(--secondary)) !important;
  --popup-text-color: hsl(var(--foreground)) !important;
  --popup-text-inverted-color: hsl(var(--primary-foreground)) !important;
  --overlay-bg-color: hsl(var(--background) / 0.12) !important;
  --default-border-color: hsl(var(--border)) !important;

  /* Surfaces & on-surface */
  --color-surface-high: hsl(var(--accent)) !important;
  --color-surface-mid: hsl(var(--secondary)) !important;
  --color-surface-low: hsl(var(--muted)) !important;
  --color-surface-lowest: hsl(var(--card)) !important;
  --color-on-surface: hsl(var(--foreground)) !important;

  /* Borders & outlines */
  --dialog-border-color: hsl(var(--border)) !important;
  --sidebar-border-color: hsl(var(--border)) !important;
  --color-border-outline: hsl(var(--border)) !important;
  --color-border-outline-variant: hsl(var(--muted)) !important;

  /* Buttons */
  --button-hover-bg: hsl(var(--accent)) !important;
  --button-active-bg: hsl(var(--accent)) !important;
  --button-active-border: hsl(var(--primary)) !important;
  --button-gray-1: hsl(var(--secondary)) !important;
  --button-gray-2: hsl(var(--muted)) !important;
  --button-gray-3: hsl(var(--accent)) !important;
  --button-destructive-bg-color: hsl(var(--destructive-foreground)) !important;
  --button-destructive-color: hsl(var(--destructive)) !important;

  /* Links & selection */
  --link-color: hsl(var(--primary)) !important;
  --color-selection: hsl(var(--primary)) !important;

  /* Misc visual */
  --icon-fill-color: hsl(var(--foreground)) !important;
  --keybinding-color: hsl(var(--muted-foreground)) !important;
}

/* Dark mode variants (Excalidraw toggles .theme--dark on its root) */
.theme-default .excali-theme-scope .excalidraw.theme--dark,
.theme-claude .excali-theme-scope .excalidraw.theme--dark,
.theme-neo-brutalism .excali-theme-scope .excalidraw.theme--dark,
.theme-perpetuity .excali-theme-scope .excalidraw.theme--dark,
.theme-retro-arcade .excali-theme-scope .excalidraw.theme--dark,
.theme-soft-pop .excali-theme-scope .excalidraw.theme--dark,
.theme-ghibli-studio .excali-theme-scope .excalidraw.theme--dark,
.theme-valorant .excali-theme-scope .excalidraw.theme--dark,
.theme-t3chat .excali-theme-scope .excalidraw.theme--dark,
.theme-perplexity .excali-theme-scope .excalidraw.theme--dark,
.theme-art-deco .excali-theme-scope .excalidraw.theme--dark,
.theme-neomorphism .excali-theme-scope .excalidraw.theme--dark {
  --color-primary: hsl(var(--primary)) !important;
  --color-primary-darker: hsl(var(--accent)) !important;
  --color-primary-darkest: hsl(var(--primary-foreground)) !important;
  --color-primary-light: hsl(var(--muted-foreground)) !important;
  --color-primary-contrast-offset: hsl(var(--primary)) !important;

  /* Core text & backgrounds (dark) */
  --text-primary-color: hsl(var(--primary-foreground)) !important;
  --default-bg-color: hsl(var(--background)) !important;
  --input-bg-color: hsl(var(--card)) !important;
  --input-border-color: hsl(var(--border)) !important;
  --input-hover-bg-color: hsl(var(--accent) / 0.4) !important;
  --island-bg-color: hsl(var(--card)) !important;
  --popup-bg-color: hsl(var(--card)) !important;
  --popup-secondary-bg-color: hsl(var(--secondary)) !important;
  --popup-text-color: hsl(var(--primary-foreground)) !important;
  --popup-text-inverted-color: hsl(var(--foreground)) !important;
  --overlay-bg-color: hsl(var(--background) / 0.2) !important;
  --default-border-color: hsl(var(--border)) !important;

  /* Surfaces & on-surface */
  --color-surface-high: hsl(var(--accent)) !important;
  --color-surface-mid: hsl(var(--secondary)) !important;
  --color-surface-low: hsl(var(--muted)) !important;
  --color-surface-lowest: hsl(var(--card)) !important;


  /* Borders & outlines */
  --dialog-border-color: hsl(var(--border)) !important;
  --sidebar-border-color: hsl(var(--border)) !important;
  --color-border-outline: hsl(var(--border)) !important;
  --color-border-outline-variant: hsl(var(--muted)) !important;

  /* Buttons */
  --button-hover-bg: hsl(var(--accent)) !important;
  --button-active-bg: hsl(var(--accent)) !important;
  --button-active-border: hsl(var(--primary)) !important;
  --button-gray-1: hsl(var(--secondary)) !important;
  --button-gray-2: hsl(var(--muted)) !important;
  --button-gray-3: hsl(var(--accent)) !important;
  --button-destructive-bg-color: hsl(var(--destructive)) !important;
  --button-destructive-color: hsl(var(--destructive-foreground)) !important;

  /* Links & selection */
  --link-color: hsl(var(--primary)) !important;
  --color-selection: hsl(var(--primary)) !important;

  /* Misc visual */
  --keybinding-color: hsl(var(--muted-foreground)) !important;
}

/* Optional: tweak some background/toolbar neutrals to align better */
.theme-default .excali-theme-scope .excalidraw,
.theme-claude .excali-theme-scope .excalidraw,
.theme-neo-brutalism .excali-theme-scope .excalidraw,
.theme-perpetuity .excali-theme-scope .excalidraw,
.theme-retro-arcade .excali-theme-scope .excalidraw,
.theme-soft-pop .excali-theme-scope .excalidraw,
.theme-ghibli-studio .excali-theme-scope .excalidraw,
.theme-valorant .excali-theme-scope .excalidraw,
.theme-t3chat .excali-theme-scope .excalidraw,
.theme-perplexity .excali-theme-scope .excalidraw,
.theme-art-deco .excali-theme-scope .excalidraw,
.theme-neomorphism .excali-theme-scope .excalidraw {
  --color-background: hsl(var(--card)) !important;
  --color-text: hsl(var(--foreground)) !important;
}

.theme-default .excali-theme-scope .excalidraw.theme--dark,
.theme-claude .excali-theme-scope .excalidraw.theme--dark,
.theme-neo-brutalism .excali-theme-scope .excalidraw.theme--dark,
.theme-perpetuity .excali-theme-scope .excalidraw.theme--dark,
.theme-retro-arcade .excali-theme-scope .excalidraw.theme--dark,
.theme-soft-pop .excali-theme-scope .excalidraw.theme--dark,
.theme-ghibli-studio .excali-theme-scope .excalidraw.theme--dark,
.theme-valorant .excali-theme-scope .excalidraw.theme--dark,
.theme-t3chat .excali-theme-scope .excalidraw.theme--dark,
.theme-perplexity .excali-theme-scope .excalidraw.theme--dark,
.theme-art-deco .excali-theme-scope .excalidraw.theme--dark,
.theme-neomorphism .excali-theme-scope .excalidraw.theme--dark {
  --color-background: hsl(var(--card)) !important;
  --color-text: hsl(var(--primary-foreground)) !important;
}


