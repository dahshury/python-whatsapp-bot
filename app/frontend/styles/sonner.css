/* Sonner Toast Theme Customization */

/* Use CSS layers to ensure highest priority */
@layer sonner-overrides {
	/* Global override for Sonner toasts - highest priority */
	[data-sonner-toaster] [data-sonner-toast] {
		/* Apply our theme colors */
		background: var(--toast-bg, hsl(var(--card))) !important;
		color: var(--toast-color, hsl(var(--card-foreground))) !important;
		border: 1px solid var(--toast-border, hsl(var(--border))) !important;
	}

	/* Light mode specific */
	:root:not(.dark) [data-sonner-toaster] [data-sonner-toast],
	html:not(.dark) [data-sonner-toaster] [data-sonner-toast],
	[data-theme="light"] [data-sonner-toaster] [data-sonner-toast] {
		--toast-bg: hsl(var(--card));
		--toast-color: hsl(var(--card-foreground));
		--toast-border: hsl(var(--border));
	}

	/* Dark mode specific */
	.dark [data-sonner-toaster] [data-sonner-toast],
	html.dark [data-sonner-toaster] [data-sonner-toast],
	[data-theme="dark"] [data-sonner-toaster] [data-sonner-toast] {
		--toast-bg: hsl(var(--card));
		--toast-color: hsl(var(--card-foreground));
		--toast-border: hsl(var(--border));
	}

	/* Override Sonner's ol element styles */
	[data-sonner-toaster] ol {
		background: transparent !important;
	}

	/* Ultra-specific selector for light mode */
	html:where(:not(.dark)) body [data-sonner-toaster] ol li [data-sonner-toast] {
		background-color: hsl(var(--card)) !important;
		color: hsl(var(--card-foreground)) !important;
		border: 1px solid hsl(var(--border)) !important;
	}

	/* Root variables for Sonner that respect theme changes */
	:root {
		--sonner-normal-bg: hsl(var(--background));
		--sonner-normal-border: hsl(var(--border));
		--sonner-normal-text: hsl(var(--foreground));
	}

	:root:not(.dark) {
		--sonner-normal-bg: hsl(var(--background));
		--sonner-normal-border: hsl(var(--border));
		--sonner-normal-text: hsl(var(--foreground));
	}

	.dark {
		--sonner-normal-bg: hsl(var(--card));
		--sonner-normal-border: hsl(var(--border));
		--sonner-normal-text: hsl(var(--card-foreground));
	}

	/* Theme-specific overrides for better integration */
	.theme-default {
		--sonner-normal-bg: hsl(var(--background));
		--sonner-normal-border: hsl(var(--border));
		--sonner-normal-text: hsl(var(--foreground));
	}

	.theme-default.dark {
		--sonner-normal-bg: hsl(var(--card));
		--sonner-normal-border: hsl(var(--border));
		--sonner-normal-text: hsl(var(--card-foreground));
	}

	/* Light mode styles (default) */
	[data-sonner-toaster] {
		/* Use background color token */
		--normal-bg: hsl(var(--background));
		--normal-border: hsl(var(--border));
		--normal-text: hsl(var(--foreground));

		/* Success - use green tones */
		--success-bg: hsl(142 76% 95%);
		--success-border: hsl(142 76% 36%);
		--success-text: hsl(142 76% 36%);
		--success-icon: hsl(142 76% 36%);

		/* Error - use destructive colors */
		--error-bg: hsl(var(--destructive) / 0.1);
		--error-border: hsl(var(--destructive));
		--error-text: hsl(var(--destructive));
		--error-icon: hsl(var(--destructive));

		/* Warning - use amber tones */
		--warning-bg: hsl(48 96% 95%);
		--warning-border: hsl(48 96% 53%);
		--warning-text: hsl(25 95% 53%);
		--warning-icon: hsl(48 96% 53%);

		/* Info - use primary colors */
		--info-bg: hsl(var(--primary) / 0.1);
		--info-border: hsl(var(--primary));
		--info-text: hsl(var(--primary));
		--info-icon: hsl(var(--primary));
	}

	/* Dark mode specific adjustments */
	.dark [data-sonner-toaster],
	[data-sonner-toaster][data-theme="dark"] {
		/* Use card for consistency */
		--normal-bg: var(--sonner-normal-bg);
		--normal-border: var(--sonner-normal-border);
		--normal-text: var(--sonner-normal-text);

		/* Success - use muted green */
		--success-bg: hsl(142 31% 11%);
		--success-border: hsl(142 72% 29%);
		--success-text: hsl(142 86% 65%);
		--success-icon: hsl(142 86% 65%);

		/* Error - keep destructive but adjust opacity */
		--error-bg: hsl(var(--destructive) / 0.15);
		--error-border: hsl(var(--destructive));
		--error-text: hsl(var(--destructive));
		--error-icon: hsl(var(--destructive));

		/* Warning - use muted amber */
		--warning-bg: hsl(48 31% 11%);
		--warning-border: hsl(48 72% 39%);
		--warning-text: hsl(48 86% 65%);
		--warning-icon: hsl(48 86% 65%);

		/* Info - use primary with adjusted background */
		--info-bg: hsl(var(--primary) / 0.15);
		--info-border: hsl(var(--primary));
		--info-text: hsl(var(--primary));
		--info-icon: hsl(var(--primary));
	}

	/* Toast container styles */
	[data-sonner-toaster][data-theme="light"] {
		--border-radius: var(--radius);
	}

	[data-sonner-toaster][data-theme="dark"] {
		--border-radius: var(--radius);
	}

	/* Individual toast styles */
	[data-sonner-toast] {
		font-family: var(--font-sans) !important;
		box-shadow:
			0 10px 15px -3px rgb(0 0 0 / 0.1),
			0 4px 6px -4px rgb(0 0 0 / 0.1) !important;
		border-width: 1px !important;
		/* Ensure spacing between stacked toasts */
		margin-bottom: 8px !important;
	}

	/* Ensure all icons are visible */
	[data-sonner-toast] svg {
		width: 20px;
		height: 20px;
	}

	/* Action button styles */
	[data-sonner-toast] [data-button] {
		background-color: hsl(var(--primary)) !important;
		color: hsl(var(--primary-foreground)) !important;
		border-radius: calc(var(--radius) - 2px);
		font-weight: 500;
	}

	/* Cancel button styles */
	[data-sonner-toast] [data-cancel] {
		background-color: hsl(var(--secondary)) !important;
		color: hsl(var(--secondary-foreground)) !important;
		border-radius: calc(var(--radius) - 2px);
	}

	/* Close button */
	[data-sonner-toast] [data-close-button] {
		background-color: transparent !important;
		border-color: hsl(var(--border)) !important;
		color: hsl(var(--muted-foreground)) !important;
	}

	[data-sonner-toast] [data-close-button]:hover {
		background-color: hsl(var(--muted)) !important;
		color: hsl(var(--foreground)) !important;
	}

	/* Success toast */
	[data-sonner-toast][data-type="success"] {
		background-color: var(--success-bg) !important;
		border-color: var(--success-border) !important;
		color: var(--success-text) !important;
	}

	[data-sonner-toast][data-type="success"] [data-icon] {
		color: var(--success-icon) !important;
	}

	[data-sonner-toast][data-type="success"] [data-title] {
		color: var(--success-text) !important;
		font-weight: 600;
	}

	/* Error toast */
	[data-sonner-toast][data-type="error"] {
		background-color: var(--error-bg) !important;
		border-color: var(--error-border) !important;
		color: var(--error-text) !important;
	}

	[data-sonner-toast][data-type="error"] [data-icon] {
		color: var(--error-icon) !important;
	}

	[data-sonner-toast][data-type="error"] [data-title] {
		color: var(--error-text) !important;
		font-weight: 600;
	}

	/* Warning toast */
	[data-sonner-toast][data-type="warning"] {
		background-color: var(--warning-bg) !important;
		border-color: var(--warning-border) !important;
		color: var(--warning-text) !important;
	}

	[data-sonner-toast][data-type="warning"] [data-icon] {
		color: var(--warning-icon) !important;
	}

	[data-sonner-toast][data-type="warning"] [data-title] {
		color: var(--warning-text) !important;
		font-weight: 600;
	}

	/* Info toast */
	[data-sonner-toast][data-type="info"] {
		background-color: var(--info-bg) !important;
		border-color: var(--info-border) !important;
		color: var(--info-text) !important;
	}

	[data-sonner-toast][data-type="info"] [data-icon] {
		color: var(--info-icon) !important;
	}

	[data-sonner-toast][data-type="info"] [data-title] {
		color: var(--info-text) !important;
		font-weight: 600;
	}

	/* Loading state */
	[data-sonner-toast][data-type="loading"] {
		background-color: var(--normal-bg) !important;
		border-color: var(--normal-border) !important;
		color: var(--normal-text) !important;
	}

	[data-sonner-toast][data-type="loading"] [data-icon] {
		color: hsl(var(--primary)) !important;
	}

	/* Rich colors variant */
	[data-sonner-toaster][data-rich-colors="true"]
		[data-sonner-toast][data-type="success"] {
		background-color: hsl(142.1 70.6% 45.3%) !important;
		color: hsl(var(--background)) !important;
		border-color: hsl(142.1 70.6% 45.3%) !important;
	}

	[data-sonner-toaster][data-rich-colors="true"]
		[data-sonner-toast][data-type="error"] {
		background-color: hsl(var(--destructive)) !important;
		color: hsl(var(--destructive-foreground)) !important;
		border-color: hsl(var(--destructive)) !important;
	}

	[data-sonner-toaster][data-rich-colors="true"]
		[data-sonner-toast][data-type="warning"] {
		background-color: hsl(38 92% 50%) !important;
		color: hsl(var(--background)) !important;
		border-color: hsl(38 92% 50%) !important;
	}

	[data-sonner-toaster][data-rich-colors="true"]
		[data-sonner-toast][data-type="info"] {
		background-color: hsl(var(--primary)) !important;
		color: hsl(var(--primary-foreground)) !important;
		border-color: hsl(var(--primary)) !important;
	}

	/* Force override Sonner's default dark theme colors */
	[data-theme="dark"] [data-sonner-toaster],
	html.dark [data-sonner-toaster] {
		--normal-bg: var(--sonner-normal-bg) !important;
		--normal-border: var(--sonner-normal-border) !important;
		--normal-text: var(--sonner-normal-text) !important;
	}

	/* No custom accent bars - using default Sonner styling */
} /* End of @layer sonner-overrides */
